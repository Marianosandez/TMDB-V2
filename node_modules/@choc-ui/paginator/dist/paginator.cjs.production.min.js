"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e,a=require("@chakra-ui/react");function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i={current:null,defaultCurrent:1,defaultPage:1,defaultPageSize:10,disabled:!1,hideOnSinglePage:!1,itemRender:function(){return null},pageSize:0,pageNeighbours:0,pageSizeOptions:[10,20,50,100],paginationProps:null,responsive:!1,showQuickJumper:!1,showSizeChanger:null,showTotal:function(){return null},simple:null,total:0,onChange:function(){return""},onShowSizeChange:function(){return""},size:"md",rounded:"md",baseStyles:null,activeStyles:null,hoverStyles:null,colorScheme:"brand",focusRing:!1,basePath:null},s=n.createContext({}),u=function(e){var t=e.active,n=e.responsive,a=!0;switch(e.type){case"page":t&&n.activePage||(a=!1)}return!a&&"none"},o=function(e){var t=n.useContext(s),i=t.responsive,o=t.focusRing,l=function(e){var t=n.useContext(s),i=t.colorScheme,u=t.rounded,o=t.size,l=t.baseStyles,c=t.hoverStyles,g=t.activeStyles||{bg:a.useColorModeValue(i+".600",i+".500"),color:a.useColorModeValue("white","gray.200"),cursor:"pointer"},d={_hover:c||g},m=l||{rounded:u,bg:a.useColorModeValue("white","gray.800"),color:a.useColorModeValue("gray.700","gray.200"),userSelect:"none"};return r({},function(e){var t={};switch(e){case"xs":t={px:2,fontSize:"xs"};break;case"sm":t={px:3,py:1,fontSize:"sm"};break;case"md":t={px:4,py:1,fontSize:"md"};break;case"lg":t={px:5,py:2,fontSize:"lg"}}return t}(o),m,!e.disabled&&d,e.active&&g,e.disabled&&{opacity:.6,cursor:"not-allowed"})}(e),c={display:[i&&u(r({},e,{responsive:i})),"block"]};return n.createElement(a.Button,Object.assign({onClick:e.disabled?null:e.onClick,as:e.as,mx:1,my:"auto"},l,{_first:{ml:0},_last:{mr:0},_focus:{boxShadow:o?"string"==typeof o?"0 0 0 3px "+o:"0 0 0 3px rgba(66, 153, 225, 0.6)":"none"},size:e.size},c,e.href?{href:e.href}:{}),e.children)},l="LEFT",c=function(e,t,n){void 0===n&&(n=1);for(var a=e,r=[];a<=t;)r.push(a),a+=n;return r},g=function(){var e=n.useContext(s),t=Math.ceil(e.total/e.pageSize),r=e.itemRender(e.currentPage,"prev"),i=e.itemRender(e.currentPage,"next"),u=e.itemRender(e.currentPage,"backward"),g=e.itemRender(e.currentPage,"forward"),m=e.itemRender(e.pageSize,"pageSize"),p=e.itemRender(e.currentPage,"page"),f=e.showTotal(e.total);if(!t||e.hideOnSinglePage&&1===t)return null;var h=function(){var e=n.useContext(s),t=Math.ceil(e.total/e.pageSize),a=e.currentPage,r=e.pageNeighbours,i=2*r+3;if(t>i+2){var u=Math.max(2,a-r),o=Math.min(t-1,a+r),g=c(u,o),d=u>2,m=t-o>1,p=i-(g.length+1);switch(!0){case d&&!m:var f=c(u-p,u-1);g=[l].concat(f,g);break;case!d&&m:var h=c(o+1,o+p);g=[].concat(g,h,["RIGHT"]);break;case d&&m:default:g=[l].concat(g,["RIGHT"])}return[1].concat(g,[t])}return c(1,t)}(),b=function(n){var a=Math.max(0,Math.min(n,t));e.setCurrentPage(a),e.onChange(a,t,e.pageSize,e.total)},z=function(t){t.preventDefault(),b(e.currentPage-2*e.pageNeighbours-1)},v=function(t){t.preventDefault(),b(e.currentPage+2*e.pageNeighbours+1)},S=n.useState(e.currentPage),x=S[0],P=S[1],y=n.useState(""),C=y[0],k=y[1],E=function(t){return e.responsive?"boolean"!=typeof e.responsive&&Object.keys(e.responsive).includes(t)?{display:"block"}:{display:["none","block"]}:{}},w=function(t){return e.basePath&&t>0&&t!==e.currentPage?{href:""+e.basePath+t}:{}};return e.total>0?n.createElement(a.Box,Object.assign({},e.paginationProps||{w:"full",justifyContent:"center"}),null!==f&&n.createElement(a.chakra.span,Object.assign({mx:1,my:"auto",fontSize:e.size},E("totalRender")),f),e.simple?n.createElement(n.Fragment,null,n.createElement("form",{onSubmit:function(n){n.preventDefault(),isNaN(x)?P(e.currentPage):e.setCurrentPage(Math.max(0,Math.min(x,t)))}},n.createElement(a.Input,{textAlign:"center",isDisabled:e.disabled,my:"auto",size:"lg"===e.size?"md":"xs"===e.size?"xs":"sm",w:"lg"===e.size?50:10,value:x,onChange:function(e){return P(e.target.value)}})),n.createElement(a.chakra.span,{userSelect:"none",opacity:e.disabled?.6:1,mx:1,my:"auto",fontSize:e.size},"/ 5")):n.createElement(n.Fragment,null,n.createElement(o,Object.assign({as:r,disabled:1===e.currentPage||e.disabled,onClick:function(t){t.preventDefault(),b(e.currentPage-1)}},w(e.currentPage-1),{size:"lg"===e.size?"md":"xs"===e.size?"xs":"sm"}),!r&&"<"),h.map((function(t,a){return"LEFT"===t?n.createElement(o,Object.assign({as:u,key:a,onClick:z},w(e.currentPage-2*e.pageNeighbours-1),{size:"lg"===e.size?"md":"xs"===e.size?"xs":"sm"},E("fastBackward"),{my:"auto"}),!u&&"<<"):"RIGHT"===t?n.createElement(o,Object.assign({as:g,key:a,onClick:v},w(e.currentPage+2*e.pageNeighbours+1),{size:"lg"===e.size?"md":"xs"===e.size?"xs":"sm"},E("fastForward"),{my:"auto"}),!g&&">>"):n.createElement(o,Object.assign({as:p,disabled:e.disabled,active:t===e.currentPage,key:"page-"+a,onClick:function(e){return function(e,t){e.preventDefault(),b(t)}(e,t)}},w(t),{size:"lg"===e.size?"md":"xs"===e.size?"xs":"sm",type:"page"}),t)})),n.createElement(o,Object.assign({as:i,disabled:e.currentPage===t||e.disabled,onClick:function(t){t.preventDefault(),b(e.currentPage+1)}},w(e.currentPage+1),{size:"lg"===e.size?"md":"xs"===e.size?"xs":"sm"}),!i&&">")),e.showSizeChanger&&n.createElement(a.Menu,null,n.createElement(d,{ml:1,as:m,disabled:e.disabled,size:"lg"===e.size?"md":"xs"===e.size?"xs":"sm"},e.pageSize," / page"),n.createElement(a.MenuList,null,n.createElement(a.MenuOptionGroup,{onChange:function(t){e.setPageSize(t),e.onShowSizeChange(e.currentPage,t)}},e.pageSizeOptions.filter((function(t){return t!==e.pageSize})).map((function(t,r){return n.createElement(a.MenuItemOption,{fontSize:e.size,value:t.toString(),key:"size"+r},t," / page")}))))),e.showQuickJumper&&n.createElement(a.HStack,Object.assign({as:"form",userSelect:"none",opacity:e.disabled?.6:1,ml:2,onSubmit:function(n){n.preventDefault(),isNaN(C)||e.setCurrentPage(Math.max(0,Math.min(C,t))),k("")}},E("pageJumper")),n.createElement(a.Text,{wordBreak:"unset"},"Go to:"),n.createElement(a.Input,{width:"50px",value:C,isDisabled:e.disabled,onChange:function(e){return k(e.target.value)},size:"lg"===e.size?"md":"xs"===e.size?"xs":"sm"}))):null},d=function(e){return n.createElement(a.MenuButton,Object.assign({as:o},e))},m=["itemRender","setCurrentPage"],p=Object.keys(i).filter((function(e){return!m.includes(e)})),f=function(e){var t=p.reduce((function(t,n){return t.push(e[n]),t}),[]);return n.useMemo((function(){return e}),t)};exports.default=function(e){var n=r({},i,e),a=t.useState(n.current||n.defaultCurrent),u=a[0],o=a[1];t.useEffect((function(){e.current&&o(e.current)}),[e.current]);var l=t.useState(n.pageSize>0?n.pageSize:n.defaultPageSize),c=l[0],d=l[1],m=r({},n),p=t.useMemo((function(){return r({},m,{currentPage:u,setCurrentPage:o,pageSize:c,setPageSize:d})}),[f(m),u,c]);return t.createElement(s.Provider,{value:p},t.createElement(g,null))};
//# sourceMappingURL=paginator.cjs.production.min.js.map
