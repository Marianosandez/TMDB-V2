{"version":3,"file":"paginator.cjs.development.js","sources":["../src/providers/pagination-provider.ts","../src/services/styles.ts","../src/components/pbutton.tsx","../src/services/fetch-page.ts","../src/components/pagination.tsx","../src/services/filter-props.ts","../src/index.tsx"],"sourcesContent":["import { As, BoxProps } from '@chakra-ui/react';\nimport React, { Dispatch, ReactElement, SetStateAction } from 'react';\n\nexport const defaultData = {\n  current: null, //*\n  defaultCurrent: 1, //*\n  defaultPage: 1, //*\n  defaultPageSize: 10, //*\n  disabled: false, //*\n  hideOnSinglePage: false, //*\n  itemRender: () => null, //*\n  pageSize: 0, //*\n  pageNeighbours: 0, //* indicates the number of additional page numbers to show on each side of the current page.\n  pageSizeOptions: [10, 20, 50, 100], //*\n  paginationProps: null, //*\n  responsive: false, //*\n  showQuickJumper: false, //*\n  showSizeChanger: null, //*\n  showTotal: () => null, //*\n  simple: null, //*\n  total: 0, //*\n  onChange: () => '', //*\n  onShowSizeChange: () => '', //*\n  size: 'md', //*\n  rounded: 'md', //*\n  baseStyles: null, //*\n  activeStyles: null, //*\n  hoverStyles: null, //*\n  colorScheme: 'brand', //*\n  focusRing: false, //*\n  basePath: null, //*\n};\n\nexport type DefaultData = typeof defaultData;\n\nexport type Responsives =\n  | 'activePage'\n  | 'totalRender'\n  | 'fastBackward'\n  | 'fastForward'\n  | 'pageSize'\n  | 'pageJumper';\n\nexport interface Pagination {\n  current: number | null; //*\n  defaultCurrent: number; //*\n  defaultPage: number; //*\n  defaultPageSize: number; //*\n  disabled: boolean; //*\n  hideOnSinglePage: boolean; //*\n  itemRender: (\n    currentPage?: Pagination['currentPage'],\n    type?: string\n  ) => As<any> | any;\n  pageSize: number; //*\n  pageNeighbours: number; //* indicates the number of additional page numbers to show on each side of the current page.\n  pageSizeOptions: number[]; //*\n  paginationProps: BoxProps | null; //*\n  responsive: Partial<Record<Responsives, boolean>> | boolean;\n  showQuickJumper: boolean; //*\n  showSizeChanger: boolean | null; //*\n  showTotal: (total?: number) => ReactElement | any;\n  simple: boolean | null; //*\n  total: number; //*\n  onChange: (\n    currentPage?: Pagination['currentPage'],\n    totalPages?: number,\n    pageSize?: Pagination['pageSize'],\n    total?: number\n  ) => void;\n  onShowSizeChange: (\n    currentPage?: Pagination['currentPage'],\n    size?: number\n  ) => void;\n  size: string; //*\n  rounded: string; //*\n  colorScheme: string; //*\n  baseStyles: BoxProps | null;\n  activeStyles: BoxProps | null;\n  hoverStyles: BoxProps | null;\n  currentPage: number;\n  setCurrentPage: Dispatch<SetStateAction<Pagination['currentPage']>>;\n  setPageSize: Dispatch<SetStateAction<Pagination['pageSize']>>;\n  focusRing: boolean | string;\n  basePath: string | null;\n}\n\nconst PaginationContext = React.createContext({} as Pagination);\n\nexport default PaginationContext;\n","import React from 'react';\n\nimport { BoxProps, useColorModeValue } from '@chakra-ui/react';\nimport PagContext from '../providers/pagination-provider';\n\nexport const usePaginationStyles = (props: any) => {\n  const {\n    colorScheme,\n    rounded,\n    size,\n    baseStyles,\n    activeStyles,\n    hoverStyles,\n  } = React.useContext(PagContext);\n\n  const activeStyle: BoxProps = activeStyles || {\n    bg: useColorModeValue(`${colorScheme}.600`, `${colorScheme}.500`),\n    color: useColorModeValue('white', 'gray.200'),\n    cursor: 'pointer',\n  };\n\n  const hoverStyle: BoxProps = {\n    _hover: hoverStyles || activeStyle,\n  };\n  const baseStyle: BoxProps = baseStyles || {\n    rounded: rounded,\n    bg: useColorModeValue('white', 'gray.800'),\n    color: useColorModeValue('gray.700', 'gray.200'),\n    userSelect: 'none',\n  };\n  const getSizeStyle = (size: string) => {\n    let styles: BoxProps = {};\n    switch (size) {\n      case 'xs':\n        styles = { px: 2, fontSize: 'xs' };\n        break;\n\n      case 'sm':\n        styles = { px: 3, py: 1, fontSize: 'sm' };\n        break;\n\n      case 'md':\n        styles = { px: 4, py: 1, fontSize: 'md' };\n        break;\n\n      case 'lg':\n        styles = { px: 5, py: 2, fontSize: 'lg' };\n        break;\n\n      default:\n        break;\n    }\n    return styles;\n  };\n  const sizeStyle = getSizeStyle(size);\n  const disabledStyle: BoxProps = {\n    opacity: 0.6,\n    cursor: 'not-allowed',\n  };\n  return {\n    ...sizeStyle,\n    ...baseStyle,\n    ...(!props.disabled && hoverStyle),\n    ...(props.active && activeStyle),\n    ...(props.disabled && disabledStyle),\n  };\n};\n","import React from 'react';\n\nimport { Button } from '@chakra-ui/react';\nimport { usePaginationStyles } from '../services/styles';\nimport PagContext from '../providers/pagination-provider';\n\nconst handleResponsive = (props: any) => {\n  const { type, active, responsive } = props;\n  let show = true;\n  switch (type) {\n    case 'page':\n      if (!active) show = false;\n      else if (!responsive.activePage) show = false;\n      break;\n\n    default:\n      break;\n  }\n  return !show && 'none';\n};\n\nexport const PagButton = (props: any) => {\n  const { responsive, focusRing } = React.useContext(PagContext);\n  const paginationStyles: any = usePaginationStyles(props);\n  const display: any = {\n    display: [\n      responsive && handleResponsive({ ...props, responsive }),\n      'block',\n    ],\n  };\n  const onClick: any = !props.disabled ? props.onClick : null;\n  const href: any = props.href ? {href: props.href} : {}\n\n  const focusRingStyles = {\n    boxShadow: focusRing\n      ? typeof focusRing === 'string'\n        ? `0 0 0 3px ${focusRing}`\n        : `0 0 0 3px rgba(66, 153, 225, 0.6)`\n      : 'none',\n  };\n  return (\n    <Button\n      onClick={onClick}\n      as={props.as}\n      mx={1}\n      my=\"auto\"\n      {...paginationStyles}\n      _first={{ ml: 0 }}\n      _last={{ mr: 0 }}\n      _focus={focusRingStyles}\n      size={props.size}\n      {...display}\n      {...href}\n    >\n      {props.children}\n    </Button>\n  );\n};\n","import React from 'react';\nimport PagContext from '../providers/pagination-provider';\n\nconst LEFT_PAGE = 'LEFT';\n\nconst RIGHT_PAGE = 'RIGHT';\n\n/**\n * Helper method for creating a range of numbers\n * range(1, 5) => [1, 2, 3, 4, 5]\n */\nconst range = (from: number, to: number, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nexport const fetchPageNumbers = () => {\n  const props = React.useContext(PagContext);\n  const totalPages: any = Math.ceil(props.total / props.pageSize);\n  const currentPage = props.currentPage;\n  const pageNeighbours = props.pageNeighbours;\n\n  /**\n   * totalNumbers: the total page numbers to show on the control\n   * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\n   */\n  const totalNumbers = pageNeighbours * 2 + 3;\n  const totalBlocks = totalNumbers + 2;\n\n  if (totalPages > totalBlocks) {\n    const startPage = Math.max(2, currentPage - pageNeighbours);\n    const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\n    let pages: (string | number)[] = range(startPage, endPage);\n\n    /**\n     * hasLeftSpill: has hidden pages to the left\n     * hasRightSpill: has hidden pages to the right\n     * spillOffset: number of hidden pages either to the left or to the right\n     */\n    const hasLeftSpill = startPage > 2;\n    const hasRightSpill = totalPages - endPage > 1;\n    const spillOffset = totalNumbers - (pages.length + 1);\n\n    switch (true) {\n      // handle: (1) < {5 6} [7] {8 9} (10)\n      case hasLeftSpill && !hasRightSpill: {\n        const extraPages = range(startPage - spillOffset, startPage - 1);\n        pages = [LEFT_PAGE, ...extraPages, ...pages];\n        break;\n      }\n\n      // handle: (1) {2 3} [4] {5 6} > (10)\n      case !hasLeftSpill && hasRightSpill: {\n        const extraPages = range(endPage + 1, endPage + spillOffset);\n        pages = [...pages, ...extraPages, RIGHT_PAGE];\n        break;\n      }\n\n      // handle: (1) < {4 5} [6] {7 8} > (10)\n      case hasLeftSpill && hasRightSpill:\n      default: {\n        pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n        break;\n      }\n    }\n\n    return [1, ...pages, totalPages];\n  }\n\n  return range(1, totalPages);\n};\n","import React from 'react';\nimport { PagButton } from './pbutton';\nimport {\n  Menu,\n  MenuButton,\n  MenuList,\n  Box,\n  MenuOptionGroup,\n  MenuItemOption,\n  chakra,\n  Input,\n  HStack,\n  Text,\n} from '@chakra-ui/react';\nimport PagContext, { Responsives } from '../providers/pagination-provider';\nimport { fetchPageNumbers } from '../services/fetch-page';\n\nexport const PaginationComp = () => {\n  const props = React.useContext(PagContext);\n  const totalPages = Math.ceil(props.total / props.pageSize);\n\n  const prevRender = props.itemRender(props.currentPage, 'prev');\n  const nextRender = props.itemRender(props.currentPage, 'next');\n  const leftRender = props.itemRender(props.currentPage, 'backward');\n  const rightRender = props.itemRender(props.currentPage, 'forward');\n  const pageSizeRender = props.itemRender(props.pageSize, 'pageSize');\n  const pageRender = props.itemRender(props.currentPage, 'page');\n  const totalRender = props.showTotal(props.total);\n\n  if (!totalPages || (props.hideOnSinglePage && totalPages === 1)) return null;\n\n  const pages = fetchPageNumbers();\n\n  const changePage = (page: number) => {\n    const currentPage = Math.max(0, Math.min(page, totalPages));\n    props.setCurrentPage(currentPage);\n    props.onChange(currentPage, totalPages, props.pageSize, props.total);\n  };\n\n  const gotoPage = (evt: any, page: number) => {\n    evt.preventDefault()\n    changePage(page);\n  };\n\n  const fastBackward = (evt: any) => {\n    evt.preventDefault()\n    const page = props.currentPage - props.pageNeighbours * 2 - 1;\n    changePage(page);\n  };\n\n  const fastForward = (evt: any) => {\n    evt.preventDefault()\n    const page = props.currentPage + props.pageNeighbours * 2 + 1;\n    changePage(page);\n  };\n\n  const backward = (evt: any) => {\n    evt.preventDefault()\n    changePage(props.currentPage - 1);\n  };\n\n  const forward = (evt: any) => {\n    evt.preventDefault()\n    changePage(props.currentPage + 1);\n  };\n\n  const changePageSize = (size: any) => {\n    props.setPageSize(size);\n    props.onShowSizeChange(props.currentPage, size);\n  };\n\n  const [simplePage, setSimplePage] = React.useState<any>(props.currentPage);\n  const [pageJumper, setPageJumper] = React.useState<any>('');\n\n  const simplePageUpdate = (e: any) => {\n    e.preventDefault();\n    if (isNaN(simplePage)) {\n      setSimplePage(props.currentPage);\n    } else {\n      props.setCurrentPage(Math.max(0, Math.min(simplePage, totalPages)));\n    }\n  };\n  const pageJumperUpdate = (e: any) => {\n    e.preventDefault();\n    if (isNaN(pageJumper)) {\n      setPageJumper('');\n    } else {\n      props.setCurrentPage(Math.max(0, Math.min(pageJumper, totalPages)));\n      setPageJumper('');\n    }\n  };\n\n  const responsiveDisplay = (type: Responsives) => {\n    if (props.responsive) {\n      if (\n        typeof props.responsive !== 'boolean' &&\n        Object.keys(props.responsive).includes(type)\n      ) {\n        return {\n          display: 'block',\n        };\n      }\n      return { display: ['none', 'block'] };\n    }\n    return {};\n  };\n\n  const hrefLink = (page: number) => {\n    if (props.basePath && page > 0 && page !== props.currentPage) {\n      return {\n        href: `${props.basePath}${page}`\n      }\n    }\n\n    return {}\n  }\n\n  return props.total > 0 ? (\n    <Box\n      {...(props.paginationProps || { w: 'full', justifyContent: 'center' })}\n    >\n      {totalRender !== null && (\n        <chakra.span\n          mx={1}\n          my=\"auto\"\n          fontSize={props.size}\n          {...responsiveDisplay('totalRender')}\n        >\n          {totalRender}\n        </chakra.span>\n      )}\n      {props.simple ? (\n        <React.Fragment>\n          <form onSubmit={simplePageUpdate}>\n            <Input\n              textAlign=\"center\"\n              isDisabled={props.disabled}\n              my=\"auto\"\n              size={\n                props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n              }\n              w={props.size === 'lg' ? 50 : 10}\n              value={simplePage}\n              onChange={e => setSimplePage(e.target.value)}\n            />\n          </form>\n          <chakra.span\n            userSelect=\"none\"\n            opacity={props.disabled ? 0.6 : 1}\n            mx={1}\n            my=\"auto\"\n            fontSize={props.size}\n          >\n            / 5\n          </chakra.span>\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          <PagButton\n            as={prevRender}\n            disabled={props.currentPage === 1 || props.disabled}\n            onClick={backward}\n            {...hrefLink(props.currentPage - 1)}\n            size={\n              props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n            }\n          >\n            {!prevRender && '<'}\n          </PagButton>\n\n          {pages.map((page, index) => {\n            if (page === 'LEFT')\n              return (\n                <PagButton\n                  as={leftRender}\n                  key={index}\n                  onClick={fastBackward}\n                  {...hrefLink(props.currentPage - props.pageNeighbours * 2 - 1)}\n                  size={\n                    props.size === 'lg'\n                      ? 'md'\n                      : props.size === 'xs'\n                      ? 'xs'\n                      : 'sm'\n                  }\n                  {...responsiveDisplay('fastBackward')}\n                  my=\"auto\"\n                >\n                  {!leftRender && '<<'}\n                </PagButton>\n              );\n\n            if (page === 'RIGHT')\n              return (\n                <PagButton\n                  as={rightRender}\n                  key={index}\n                  onClick={fastForward}\n                  {...hrefLink(props.currentPage + props.pageNeighbours * 2 + 1)}\n                  size={\n                    props.size === 'lg'\n                      ? 'md'\n                      : props.size === 'xs'\n                      ? 'xs'\n                      : 'sm'\n                  }\n                  {...responsiveDisplay('fastForward')}\n                  my=\"auto\"\n                >\n                  {!rightRender && '>>'}\n                </PagButton>\n              );\n            const active = page === props.currentPage;\n            return (\n              <PagButton\n                as={pageRender}\n                disabled={props.disabled}\n                active={active}\n                key={`page-${index}`}\n                onClick={(evt: any) => gotoPage(evt, page)}\n                {...hrefLink(page)}\n                size={\n                  props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n                }\n                type=\"page\"\n              >\n                {page}\n              </PagButton>\n            );\n          })}\n          <PagButton\n            as={nextRender}\n            disabled={props.currentPage === totalPages || props.disabled}\n            onClick={forward}\n            {...hrefLink(props.currentPage + 1)}\n            size={\n              props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n            }\n          >\n            {!nextRender && '>'}\n          </PagButton>\n        </React.Fragment>\n      )}\n      {props.showSizeChanger && (\n        <Menu>\n          <PagMenuButton\n            ml={1}\n            as={pageSizeRender}\n            disabled={props.disabled}\n            size={\n              props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n            }\n          >\n            {props.pageSize} / page\n          </PagMenuButton>\n          <MenuList>\n            <MenuOptionGroup onChange={changePageSize}>\n              {props.pageSizeOptions\n                .filter((opt: any) => opt !== props.pageSize)\n                .map((opt: any, oid: number) => (\n                  <MenuItemOption\n                    fontSize={props.size}\n                    value={opt.toString()}\n                    key={`size${oid}`}\n                  >\n                    {opt} / page\n                  </MenuItemOption>\n                ))}\n            </MenuOptionGroup>\n          </MenuList>\n        </Menu>\n      )}\n      {props.showQuickJumper && (\n        <HStack\n          as=\"form\"\n          userSelect=\"none\"\n          opacity={props.disabled ? 0.6 : 1}\n          ml={2}\n          onSubmit={pageJumperUpdate}\n          {...responsiveDisplay('pageJumper')}\n        >\n          <Text wordBreak=\"unset\">Go to:</Text>\n          <Input\n            width=\"50px\"\n            value={pageJumper}\n            isDisabled={props.disabled}\n            onChange={e => setPageJumper(e.target.value)}\n            size={\n              props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n            }\n          />\n        </HStack>\n      )}\n    </Box>\n  ) : null;\n};\n\nconst PagMenuButton = (props: any) => <MenuButton as={PagButton} {...props} />;\n","import React from 'react';\nimport { defaultData } from '../providers/pagination-provider';\n\nconst methods = ['itemRender', 'setCurrentPage'];\nconst nonMethods = Object.keys(defaultData).filter(k => !methods.includes(k));\n\nexport const filterProps = (props: any) => {\n  const validProps = nonMethods.reduce((acc: any[], nxt: string) => {\n    acc.push(props[nxt]);\n    return acc;\n  }, []);\n  return React.useMemo(() => props, validProps);\n};\n","import * as React from 'react';\n\nimport PagContext, {\n  defaultData,\n  Pagination,\n} from './providers/pagination-provider';\nimport { PaginationComp } from './components/pagination';\n\nimport { filterProps } from './services/filter-props';\n\nconst Pagination = (props: Partial<Pagination>) => {\n  const allProps = { ...defaultData, ...props };\n  const [currentPage, setCurrentPage] = React.useState(\n    allProps.current || allProps.defaultCurrent\n  );\n  React.useEffect(() => {\n    props.current && setCurrentPage(props.current);\n  }, [props.current]);\n  const [pageSize, setPageSize] = React.useState(\n    allProps.pageSize > 0 ? allProps.pageSize : allProps.defaultPageSize\n  );\n\n  const contextvalue = { ...allProps };\n  const value = React.useMemo(() => {\n    return {\n      ...contextvalue,\n      currentPage,\n      setCurrentPage,\n      pageSize,\n      setPageSize,\n    };\n  }, [filterProps(contextvalue), currentPage, pageSize]);\n  return (\n    <PagContext.Provider value={value}>\n      <PaginationComp />\n    </PagContext.Provider>\n  );\n};\n\nexport default Pagination;\n"],"names":["defaultData","current","defaultCurrent","defaultPage","defaultPageSize","disabled","hideOnSinglePage","itemRender","pageSize","pageNeighbours","pageSizeOptions","paginationProps","responsive","showQuickJumper","showSizeChanger","showTotal","simple","total","onChange","onShowSizeChange","size","rounded","baseStyles","activeStyles","hoverStyles","colorScheme","focusRing","basePath","PaginationContext","React","createContext","usePaginationStyles","props","useContext","PagContext","activeStyle","bg","useColorModeValue","color","cursor","hoverStyle","_hover","baseStyle","userSelect","getSizeStyle","styles","px","fontSize","py","sizeStyle","disabledStyle","opacity","active","handleResponsive","type","show","activePage","PagButton","paginationStyles","display","onClick","href","focusRingStyles","boxShadow","Button","as","mx","my","_first","ml","_last","mr","_focus","children","LEFT_PAGE","RIGHT_PAGE","range","from","to","step","i","push","fetchPageNumbers","totalPages","Math","ceil","currentPage","totalNumbers","totalBlocks","startPage","max","endPage","min","pages","hasLeftSpill","hasRightSpill","spillOffset","length","extraPages","PaginationComp","prevRender","nextRender","leftRender","rightRender","pageSizeRender","pageRender","totalRender","changePage","page","setCurrentPage","gotoPage","evt","preventDefault","fastBackward","fastForward","backward","forward","changePageSize","setPageSize","useState","simplePage","setSimplePage","pageJumper","setPageJumper","simplePageUpdate","e","isNaN","pageJumperUpdate","responsiveDisplay","Object","keys","includes","hrefLink","Box","w","justifyContent","chakra","span","Fragment","onSubmit","Input","textAlign","isDisabled","value","target","map","index","key","Menu","PagMenuButton","MenuList","MenuOptionGroup","filter","opt","oid","MenuItemOption","toString","HStack","Text","wordBreak","width","MenuButton","methods","nonMethods","k","filterProps","validProps","reduce","acc","nxt","useMemo","Pagination","allProps","contextvalue","Provider"],"mappings":"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"}