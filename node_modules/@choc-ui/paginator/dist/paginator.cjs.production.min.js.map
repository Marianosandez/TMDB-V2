{"version":3,"file":"paginator.cjs.production.min.js","sources":["../src/providers/pagination-provider.ts","../src/components/pbutton.tsx","../src/services/styles.ts","../src/services/fetch-page.ts","../src/components/pagination.tsx","../src/services/filter-props.ts","../src/index.tsx"],"sourcesContent":["import { As, BoxProps } from '@chakra-ui/react';\nimport React, { Dispatch, ReactElement, SetStateAction } from 'react';\n\nexport const defaultData = {\n  current: null, //*\n  defaultCurrent: 1, //*\n  defaultPage: 1, //*\n  defaultPageSize: 10, //*\n  disabled: false, //*\n  hideOnSinglePage: false, //*\n  itemRender: () => null, //*\n  pageSize: 0, //*\n  pageNeighbours: 0, //* indicates the number of additional page numbers to show on each side of the current page.\n  pageSizeOptions: [10, 20, 50, 100], //*\n  paginationProps: null, //*\n  responsive: false, //*\n  showQuickJumper: false, //*\n  showSizeChanger: null, //*\n  showTotal: () => null, //*\n  simple: null, //*\n  total: 0, //*\n  onChange: () => '', //*\n  onShowSizeChange: () => '', //*\n  size: 'md', //*\n  rounded: 'md', //*\n  baseStyles: null, //*\n  activeStyles: null, //*\n  hoverStyles: null, //*\n  colorScheme: 'brand', //*\n  focusRing: false, //*\n  basePath: null, //*\n};\n\nexport type DefaultData = typeof defaultData;\n\nexport type Responsives =\n  | 'activePage'\n  | 'totalRender'\n  | 'fastBackward'\n  | 'fastForward'\n  | 'pageSize'\n  | 'pageJumper';\n\nexport interface Pagination {\n  current: number | null; //*\n  defaultCurrent: number; //*\n  defaultPage: number; //*\n  defaultPageSize: number; //*\n  disabled: boolean; //*\n  hideOnSinglePage: boolean; //*\n  itemRender: (\n    currentPage?: Pagination['currentPage'],\n    type?: string\n  ) => As<any> | any;\n  pageSize: number; //*\n  pageNeighbours: number; //* indicates the number of additional page numbers to show on each side of the current page.\n  pageSizeOptions: number[]; //*\n  paginationProps: BoxProps | null; //*\n  responsive: Partial<Record<Responsives, boolean>> | boolean;\n  showQuickJumper: boolean; //*\n  showSizeChanger: boolean | null; //*\n  showTotal: (total?: number) => ReactElement | any;\n  simple: boolean | null; //*\n  total: number; //*\n  onChange: (\n    currentPage?: Pagination['currentPage'],\n    totalPages?: number,\n    pageSize?: Pagination['pageSize'],\n    total?: number\n  ) => void;\n  onShowSizeChange: (\n    currentPage?: Pagination['currentPage'],\n    size?: number\n  ) => void;\n  size: string; //*\n  rounded: string; //*\n  colorScheme: string; //*\n  baseStyles: BoxProps | null;\n  activeStyles: BoxProps | null;\n  hoverStyles: BoxProps | null;\n  currentPage: number;\n  setCurrentPage: Dispatch<SetStateAction<Pagination['currentPage']>>;\n  setPageSize: Dispatch<SetStateAction<Pagination['pageSize']>>;\n  focusRing: boolean | string;\n  basePath: string | null;\n}\n\nconst PaginationContext = React.createContext({} as Pagination);\n\nexport default PaginationContext;\n","import React from 'react';\n\nimport { Button } from '@chakra-ui/react';\nimport { usePaginationStyles } from '../services/styles';\nimport PagContext from '../providers/pagination-provider';\n\nconst handleResponsive = (props: any) => {\n  const { type, active, responsive } = props;\n  let show = true;\n  switch (type) {\n    case 'page':\n      if (!active) show = false;\n      else if (!responsive.activePage) show = false;\n      break;\n\n    default:\n      break;\n  }\n  return !show && 'none';\n};\n\nexport const PagButton = (props: any) => {\n  const { responsive, focusRing } = React.useContext(PagContext);\n  const paginationStyles: any = usePaginationStyles(props);\n  const display: any = {\n    display: [\n      responsive && handleResponsive({ ...props, responsive }),\n      'block',\n    ],\n  };\n  const onClick: any = !props.disabled ? props.onClick : null;\n  const href: any = props.href ? {href: props.href} : {}\n\n  const focusRingStyles = {\n    boxShadow: focusRing\n      ? typeof focusRing === 'string'\n        ? `0 0 0 3px ${focusRing}`\n        : `0 0 0 3px rgba(66, 153, 225, 0.6)`\n      : 'none',\n  };\n  return (\n    <Button\n      onClick={onClick}\n      as={props.as}\n      mx={1}\n      my=\"auto\"\n      {...paginationStyles}\n      _first={{ ml: 0 }}\n      _last={{ mr: 0 }}\n      _focus={focusRingStyles}\n      size={props.size}\n      {...display}\n      {...href}\n    >\n      {props.children}\n    </Button>\n  );\n};\n","import React from 'react';\n\nimport { BoxProps, useColorModeValue } from '@chakra-ui/react';\nimport PagContext from '../providers/pagination-provider';\n\nexport const usePaginationStyles = (props: any) => {\n  const {\n    colorScheme,\n    rounded,\n    size,\n    baseStyles,\n    activeStyles,\n    hoverStyles,\n  } = React.useContext(PagContext);\n\n  const activeStyle: BoxProps = activeStyles || {\n    bg: useColorModeValue(`${colorScheme}.600`, `${colorScheme}.500`),\n    color: useColorModeValue('white', 'gray.200'),\n    cursor: 'pointer',\n  };\n\n  const hoverStyle: BoxProps = {\n    _hover: hoverStyles || activeStyle,\n  };\n  const baseStyle: BoxProps = baseStyles || {\n    rounded: rounded,\n    bg: useColorModeValue('white', 'gray.800'),\n    color: useColorModeValue('gray.700', 'gray.200'),\n    userSelect: 'none',\n  };\n  const getSizeStyle = (size: string) => {\n    let styles: BoxProps = {};\n    switch (size) {\n      case 'xs':\n        styles = { px: 2, fontSize: 'xs' };\n        break;\n\n      case 'sm':\n        styles = { px: 3, py: 1, fontSize: 'sm' };\n        break;\n\n      case 'md':\n        styles = { px: 4, py: 1, fontSize: 'md' };\n        break;\n\n      case 'lg':\n        styles = { px: 5, py: 2, fontSize: 'lg' };\n        break;\n\n      default:\n        break;\n    }\n    return styles;\n  };\n  const sizeStyle = getSizeStyle(size);\n  const disabledStyle: BoxProps = {\n    opacity: 0.6,\n    cursor: 'not-allowed',\n  };\n  return {\n    ...sizeStyle,\n    ...baseStyle,\n    ...(!props.disabled && hoverStyle),\n    ...(props.active && activeStyle),\n    ...(props.disabled && disabledStyle),\n  };\n};\n","import React from 'react';\nimport PagContext from '../providers/pagination-provider';\n\nconst LEFT_PAGE = 'LEFT';\n\nconst RIGHT_PAGE = 'RIGHT';\n\n/**\n * Helper method for creating a range of numbers\n * range(1, 5) => [1, 2, 3, 4, 5]\n */\nconst range = (from: number, to: number, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nexport const fetchPageNumbers = () => {\n  const props = React.useContext(PagContext);\n  const totalPages: any = Math.ceil(props.total / props.pageSize);\n  const currentPage = props.currentPage;\n  const pageNeighbours = props.pageNeighbours;\n\n  /**\n   * totalNumbers: the total page numbers to show on the control\n   * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\n   */\n  const totalNumbers = pageNeighbours * 2 + 3;\n  const totalBlocks = totalNumbers + 2;\n\n  if (totalPages > totalBlocks) {\n    const startPage = Math.max(2, currentPage - pageNeighbours);\n    const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\n    let pages: (string | number)[] = range(startPage, endPage);\n\n    /**\n     * hasLeftSpill: has hidden pages to the left\n     * hasRightSpill: has hidden pages to the right\n     * spillOffset: number of hidden pages either to the left or to the right\n     */\n    const hasLeftSpill = startPage > 2;\n    const hasRightSpill = totalPages - endPage > 1;\n    const spillOffset = totalNumbers - (pages.length + 1);\n\n    switch (true) {\n      // handle: (1) < {5 6} [7] {8 9} (10)\n      case hasLeftSpill && !hasRightSpill: {\n        const extraPages = range(startPage - spillOffset, startPage - 1);\n        pages = [LEFT_PAGE, ...extraPages, ...pages];\n        break;\n      }\n\n      // handle: (1) {2 3} [4] {5 6} > (10)\n      case !hasLeftSpill && hasRightSpill: {\n        const extraPages = range(endPage + 1, endPage + spillOffset);\n        pages = [...pages, ...extraPages, RIGHT_PAGE];\n        break;\n      }\n\n      // handle: (1) < {4 5} [6] {7 8} > (10)\n      case hasLeftSpill && hasRightSpill:\n      default: {\n        pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n        break;\n      }\n    }\n\n    return [1, ...pages, totalPages];\n  }\n\n  return range(1, totalPages);\n};\n","import React from 'react';\nimport { PagButton } from './pbutton';\nimport {\n  Menu,\n  MenuButton,\n  MenuList,\n  Box,\n  MenuOptionGroup,\n  MenuItemOption,\n  chakra,\n  Input,\n  HStack,\n  Text,\n} from '@chakra-ui/react';\nimport PagContext, { Responsives } from '../providers/pagination-provider';\nimport { fetchPageNumbers } from '../services/fetch-page';\n\nexport const PaginationComp = () => {\n  const props = React.useContext(PagContext);\n  const totalPages = Math.ceil(props.total / props.pageSize);\n\n  const prevRender = props.itemRender(props.currentPage, 'prev');\n  const nextRender = props.itemRender(props.currentPage, 'next');\n  const leftRender = props.itemRender(props.currentPage, 'backward');\n  const rightRender = props.itemRender(props.currentPage, 'forward');\n  const pageSizeRender = props.itemRender(props.pageSize, 'pageSize');\n  const pageRender = props.itemRender(props.currentPage, 'page');\n  const totalRender = props.showTotal(props.total);\n\n  if (!totalPages || (props.hideOnSinglePage && totalPages === 1)) return null;\n\n  const pages = fetchPageNumbers();\n\n  const changePage = (page: number) => {\n    const currentPage = Math.max(0, Math.min(page, totalPages));\n    props.setCurrentPage(currentPage);\n    props.onChange(currentPage, totalPages, props.pageSize, props.total);\n  };\n\n  const gotoPage = (evt: any, page: number) => {\n    evt.preventDefault()\n    changePage(page);\n  };\n\n  const fastBackward = (evt: any) => {\n    evt.preventDefault()\n    const page = props.currentPage - props.pageNeighbours * 2 - 1;\n    changePage(page);\n  };\n\n  const fastForward = (evt: any) => {\n    evt.preventDefault()\n    const page = props.currentPage + props.pageNeighbours * 2 + 1;\n    changePage(page);\n  };\n\n  const backward = (evt: any) => {\n    evt.preventDefault()\n    changePage(props.currentPage - 1);\n  };\n\n  const forward = (evt: any) => {\n    evt.preventDefault()\n    changePage(props.currentPage + 1);\n  };\n\n  const changePageSize = (size: any) => {\n    props.setPageSize(size);\n    props.onShowSizeChange(props.currentPage, size);\n  };\n\n  const [simplePage, setSimplePage] = React.useState<any>(props.currentPage);\n  const [pageJumper, setPageJumper] = React.useState<any>('');\n\n  const simplePageUpdate = (e: any) => {\n    e.preventDefault();\n    if (isNaN(simplePage)) {\n      setSimplePage(props.currentPage);\n    } else {\n      props.setCurrentPage(Math.max(0, Math.min(simplePage, totalPages)));\n    }\n  };\n  const pageJumperUpdate = (e: any) => {\n    e.preventDefault();\n    if (isNaN(pageJumper)) {\n      setPageJumper('');\n    } else {\n      props.setCurrentPage(Math.max(0, Math.min(pageJumper, totalPages)));\n      setPageJumper('');\n    }\n  };\n\n  const responsiveDisplay = (type: Responsives) => {\n    if (props.responsive) {\n      if (\n        typeof props.responsive !== 'boolean' &&\n        Object.keys(props.responsive).includes(type)\n      ) {\n        return {\n          display: 'block',\n        };\n      }\n      return { display: ['none', 'block'] };\n    }\n    return {};\n  };\n\n  const hrefLink = (page: number) => {\n    if (props.basePath && page > 0 && page !== props.currentPage) {\n      return {\n        href: `${props.basePath}${page}`\n      }\n    }\n\n    return {}\n  }\n\n  return props.total > 0 ? (\n    <Box\n      {...(props.paginationProps || { w: 'full', justifyContent: 'center' })}\n    >\n      {totalRender !== null && (\n        <chakra.span\n          mx={1}\n          my=\"auto\"\n          fontSize={props.size}\n          {...responsiveDisplay('totalRender')}\n        >\n          {totalRender}\n        </chakra.span>\n      )}\n      {props.simple ? (\n        <React.Fragment>\n          <form onSubmit={simplePageUpdate}>\n            <Input\n              textAlign=\"center\"\n              isDisabled={props.disabled}\n              my=\"auto\"\n              size={\n                props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n              }\n              w={props.size === 'lg' ? 50 : 10}\n              value={simplePage}\n              onChange={e => setSimplePage(e.target.value)}\n            />\n          </form>\n          <chakra.span\n            userSelect=\"none\"\n            opacity={props.disabled ? 0.6 : 1}\n            mx={1}\n            my=\"auto\"\n            fontSize={props.size}\n          >\n            / 5\n          </chakra.span>\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          <PagButton\n            as={prevRender}\n            disabled={props.currentPage === 1 || props.disabled}\n            onClick={backward}\n            {...hrefLink(props.currentPage - 1)}\n            size={\n              props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n            }\n          >\n            {!prevRender && '<'}\n          </PagButton>\n\n          {pages.map((page, index) => {\n            if (page === 'LEFT')\n              return (\n                <PagButton\n                  as={leftRender}\n                  key={index}\n                  onClick={fastBackward}\n                  {...hrefLink(props.currentPage - props.pageNeighbours * 2 - 1)}\n                  size={\n                    props.size === 'lg'\n                      ? 'md'\n                      : props.size === 'xs'\n                      ? 'xs'\n                      : 'sm'\n                  }\n                  {...responsiveDisplay('fastBackward')}\n                  my=\"auto\"\n                >\n                  {!leftRender && '<<'}\n                </PagButton>\n              );\n\n            if (page === 'RIGHT')\n              return (\n                <PagButton\n                  as={rightRender}\n                  key={index}\n                  onClick={fastForward}\n                  {...hrefLink(props.currentPage + props.pageNeighbours * 2 + 1)}\n                  size={\n                    props.size === 'lg'\n                      ? 'md'\n                      : props.size === 'xs'\n                      ? 'xs'\n                      : 'sm'\n                  }\n                  {...responsiveDisplay('fastForward')}\n                  my=\"auto\"\n                >\n                  {!rightRender && '>>'}\n                </PagButton>\n              );\n            const active = page === props.currentPage;\n            return (\n              <PagButton\n                as={pageRender}\n                disabled={props.disabled}\n                active={active}\n                key={`page-${index}`}\n                onClick={(evt: any) => gotoPage(evt, page)}\n                {...hrefLink(page)}\n                size={\n                  props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n                }\n                type=\"page\"\n              >\n                {page}\n              </PagButton>\n            );\n          })}\n          <PagButton\n            as={nextRender}\n            disabled={props.currentPage === totalPages || props.disabled}\n            onClick={forward}\n            {...hrefLink(props.currentPage + 1)}\n            size={\n              props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n            }\n          >\n            {!nextRender && '>'}\n          </PagButton>\n        </React.Fragment>\n      )}\n      {props.showSizeChanger && (\n        <Menu>\n          <PagMenuButton\n            ml={1}\n            as={pageSizeRender}\n            disabled={props.disabled}\n            size={\n              props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n            }\n          >\n            {props.pageSize} / page\n          </PagMenuButton>\n          <MenuList>\n            <MenuOptionGroup onChange={changePageSize}>\n              {props.pageSizeOptions\n                .filter((opt: any) => opt !== props.pageSize)\n                .map((opt: any, oid: number) => (\n                  <MenuItemOption\n                    fontSize={props.size}\n                    value={opt.toString()}\n                    key={`size${oid}`}\n                  >\n                    {opt} / page\n                  </MenuItemOption>\n                ))}\n            </MenuOptionGroup>\n          </MenuList>\n        </Menu>\n      )}\n      {props.showQuickJumper && (\n        <HStack\n          as=\"form\"\n          userSelect=\"none\"\n          opacity={props.disabled ? 0.6 : 1}\n          ml={2}\n          onSubmit={pageJumperUpdate}\n          {...responsiveDisplay('pageJumper')}\n        >\n          <Text wordBreak=\"unset\">Go to:</Text>\n          <Input\n            width=\"50px\"\n            value={pageJumper}\n            isDisabled={props.disabled}\n            onChange={e => setPageJumper(e.target.value)}\n            size={\n              props.size === 'lg' ? 'md' : props.size === 'xs' ? 'xs' : 'sm'\n            }\n          />\n        </HStack>\n      )}\n    </Box>\n  ) : null;\n};\n\nconst PagMenuButton = (props: any) => <MenuButton as={PagButton} {...props} />;\n","import React from 'react';\nimport { defaultData } from '../providers/pagination-provider';\n\nconst methods = ['itemRender', 'setCurrentPage'];\nconst nonMethods = Object.keys(defaultData).filter(k => !methods.includes(k));\n\nexport const filterProps = (props: any) => {\n  const validProps = nonMethods.reduce((acc: any[], nxt: string) => {\n    acc.push(props[nxt]);\n    return acc;\n  }, []);\n  return React.useMemo(() => props, validProps);\n};\n","import * as React from 'react';\n\nimport PagContext, {\n  defaultData,\n  Pagination,\n} from './providers/pagination-provider';\nimport { PaginationComp } from './components/pagination';\n\nimport { filterProps } from './services/filter-props';\n\nconst Pagination = (props: Partial<Pagination>) => {\n  const allProps = { ...defaultData, ...props };\n  const [currentPage, setCurrentPage] = React.useState(\n    allProps.current || allProps.defaultCurrent\n  );\n  React.useEffect(() => {\n    props.current && setCurrentPage(props.current);\n  }, [props.current]);\n  const [pageSize, setPageSize] = React.useState(\n    allProps.pageSize > 0 ? allProps.pageSize : allProps.defaultPageSize\n  );\n\n  const contextvalue = { ...allProps };\n  const value = React.useMemo(() => {\n    return {\n      ...contextvalue,\n      currentPage,\n      setCurrentPage,\n      pageSize,\n      setPageSize,\n    };\n  }, [filterProps(contextvalue), currentPage, pageSize]);\n  return (\n    <PagContext.Provider value={value}>\n      <PaginationComp />\n    </PagContext.Provider>\n  );\n};\n\nexport default Pagination;\n"],"names":["defaultData","current","defaultCurrent","defaultPage","defaultPageSize","disabled","hideOnSinglePage","itemRender","pageSize","pageNeighbours","pageSizeOptions","paginationProps","responsive","showQuickJumper","showSizeChanger","showTotal","simple","total","onChange","onShowSizeChange","size","rounded","baseStyles","activeStyles","hoverStyles","colorScheme","focusRing","basePath","PaginationContext","React","createContext","handleResponsive","props","active","show","type","activePage","PagButton","useContext","PagContext","paginationStyles","activeStyle","bg","useColorModeValue","color","cursor","hoverStyle","_hover","baseStyle","userSelect","styles","px","fontSize","py","getSizeStyle","opacity","usePaginationStyles","display","Button","onClick","as","mx","my","_first","ml","_last","mr","_focus","boxShadow","href","children","LEFT_PAGE","range","from","to","step","i","push","PaginationComp","totalPages","Math","ceil","prevRender","currentPage","nextRender","leftRender","rightRender","pageSizeRender","pageRender","totalRender","pages","totalNumbers","startPage","max","endPage","min","hasLeftSpill","hasRightSpill","spillOffset","length","extraPages","fetchPageNumbers","changePage","page","setCurrentPage","fastBackward","evt","preventDefault","fastForward","useState","simplePage","setSimplePage","pageJumper","setPageJumper","responsiveDisplay","Object","keys","includes","hrefLink","Box","w","justifyContent","chakra","span","Fragment","onSubmit","e","isNaN","Input","textAlign","isDisabled","value","target","map","index","key","gotoPage","Menu","PagMenuButton","MenuList","MenuOptionGroup","setPageSize","filter","opt","oid","MenuItemOption","toString","HStack","Text","wordBreak","width","MenuButton","methods","nonMethods","k","filterProps","validProps","reduce","acc","nxt","useMemo","allProps","contextvalue","Provider"],"mappings":"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"}